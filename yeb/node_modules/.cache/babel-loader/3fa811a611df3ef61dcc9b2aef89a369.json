{"ast":null,"code":"export default {\n  name: 'SalSob',\n\n  data() {\n    return {\n      activeItemIndex: 0,\n      salaries: [],\n      dialogVisible: false,\n      salaryItem: ['账套名称', '基本工资', '交通补助', '午餐补助', '奖金', '养老金比率', '养老金基数', '医疗保险比率', '医疗保险基数', '公积金比率', '公积金基数'],\n      salary: {\n        name: '',\n        basicSalary: 0,\n        trafficSalary: 0,\n        lunchSalary: 0,\n        bonus: 0,\n        pensionPer: 0,\n        pensionBase: 0,\n        medicalPer: 0,\n        medicalBase: 0,\n        accumulationFundPer: 0,\n        accumulationFundBase: 0\n      }\n    };\n  },\n\n  mounted() {\n    this.initSalaries();\n  },\n\n  methods: {\n    refresh() {\n      this.initSalaries();\n    },\n\n    preStep() {\n      if (this.activeItemIndex == 0) {\n        return;\n      } else if (this.activeItemIndex == 10) {\n        this.dialogVisible = false;\n        return;\n      }\n\n      this.activeItemIndex--;\n    },\n\n    nextStep() {\n      if (this.activeItemIndex == 10) {\n        this.postRequest('/salary/sob', this.salary).then(resp => {\n          if (resp) {\n            this.initSalaries();\n            this.dialogVisible = false;\n          }\n        });\n        return;\n      }\n\n      this.activeItemIndex++;\n    },\n\n    showAdd() {\n      this.salary = {\n        name: '',\n        basicSalary: 0,\n        trafficSalary: 0,\n        lunchSalary: 0,\n        bonus: 0,\n        pensionPer: 0,\n        pensionBase: 0,\n        medicalPer: 0,\n        medicalBase: 0,\n        accumulationFundPer: 0,\n        accumulationFundBase: 0\n      }, this.activeItemIndex = 0;\n      this.dialogVisible = true;\n    },\n\n    initSalaries() {\n      this.getRequest('/salary/sob').then(resp => {\n        if (resp) {\n          this.salaries = resp;\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA+GA;EACAA,cADA;;EAEAC;IACA;MACAC,kBADA;MAEAC,YAFA;MAGAC,oBAHA;MAIAC,aACA,MADA,EAEA,MAFA,EAGA,MAHA,EAIA,MAJA,EAKA,IALA,EAMA,OANA,EAOA,OAPA,EAQA,QARA,EASA,QATA,EAUA,OAVA,EAWA,OAXA,CAJA;MAiBAC;QACAN,QADA;QAEAO,cAFA;QAGAC,gBAHA;QAIAC,cAJA;QAKAC,QALA;QAMAC,aANA;QAOAC,cAPA;QAQAC,aARA;QASAC,cATA;QAUAC,sBAVA;QAWAC;MAXA;IAjBA;EA+BA,CAlCA;;EAmCAC;IACA;EACA,CArCA;;EAsCAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;QACA;MACA,CAFA,MAEA;QACA;QACA;MACA;;MACA;IACA,CAZA;;IAaAC;MACA;QACA;UACA;YACA;YACA;UACA;QACA,CALA;QAMA;MACA;;MACA;IACA,CAxBA;;IAyBAC;MACA;QACAtB,QADA;QAEAO,cAFA;QAGAC,gBAHA;QAIAC,cAJA;QAKAC,QALA;QAMAC,aANA;QAOAC,cAPA;QAQAC,aARA;QASAC,cATA;QAUAC,sBAVA;QAWAC;MAXA,GAaA,wBAbA;MAcA;IACA,CAzCA;;IA0CAO;MACA;QACA;UACA;QACA;MACA,CAJA;IAKA;;EAhDA;AAtCA","names":["name","data","activeItemIndex","salaries","dialogVisible","salaryItem","salary","basicSalary","trafficSalary","lunchSalary","bonus","pensionPer","pensionBase","medicalPer","medicalBase","accumulationFundPer","accumulationFundBase","mounted","methods","refresh","preStep","nextStep","showAdd","initSalaries"],"sourceRoot":"src/views/sal","sources":["SalSob.vue"],"sourcesContent":["<template lang=\"\">\r\n    <div>\r\n        <div style=\"display: flex; justify-content: space-between\">\r\n            <el-button type=\"primary\" icon=\"el-icon-plus\" size=\"small\" @click=\"showAdd\">添加工资账套</el-button>\r\n            <el-button type=\"success\" icon=\"el-icon-refresh\" size=\"small\" @click=\"refresh\"></el-button>\r\n        </div>\r\n        <div style=\"margin-top: 10px;\">\r\n            <el-table :data=\"salaries\" border stripe >\r\n                <el-table-column type=\"selection\" width=\"40\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                    prop=\"name\"\r\n                    label=\"账套名称\"\r\n                    width=\"120\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                    prop=\"basicSalary\"\r\n                    label=\"基本工资\"\r\n                    width=\"70\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                    prop=\"trafficSalary\"\r\n                    label=\"交通补助\"\r\n                    width=\"70\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                    prop=\"lunchSalary\"\r\n                    label=\"午餐补助\"\r\n                    width=\"70\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                    prop=\"bouns\"\r\n                    label=\"奖金\"\r\n                    width=\"70\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                    prop=\"createDate\"\r\n                    label=\"启用时间\"\r\n                    width=\"100\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                    label=\"养老金\"\r\n                    align=\"center\">\r\n                    <el-table-column\r\n                        prop=\"pensionPer\"\r\n                        label=\"比率\"\r\n                        width=\"70\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                        prop=\"pensionBase\"\r\n                        label=\"基数\"\r\n                        width=\"70\">\r\n                    </el-table-column>\r\n                </el-table-column>\r\n                <el-table-column\r\n                    label=\"医疗保险\"\r\n                    align=\"center\">\r\n                    <el-table-column\r\n                        prop=\"medicalPer\"\r\n                        label=\"比率\"\r\n                        width=\"70\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                        prop=\"medicalBase\"\r\n                        label=\"基数\"\r\n                        width=\"70\">\r\n                    </el-table-column>\r\n                </el-table-column>\r\n                <el-table-column\r\n                    label=\"公积金\"\r\n                    align=\"center\">\r\n                    <el-table-column\r\n                        prop=\"accumulationFundPer\"\r\n                        label=\"比率\"\r\n                        width=\"70\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                        prop=\"accumulationFundBase\"\r\n                        label=\"基数\"\r\n                        width=\"70\">\r\n                    </el-table-column>\r\n                </el-table-column>\r\n                <el-table-column\r\n                    label=\"操作\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button type=\"primary\" size=\"small\" @click=\"\">编辑</el-button>\r\n                        <el-button type=\"danger\" size=\"small\" @click=\"\">删除</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n                \r\n            </el-table>\r\n        </div>\r\n        <el-dialog\r\n            title=\"添加工资账套\"\r\n            :visible.sync=\"dialogVisible\"\r\n            width=\"50%\">\r\n            <div style=\"display: flex; justify-content: space-around; align-items: center;\">\r\n                <el-steps :active=\"activeItemIndex\" direction=\"vertical\">\r\n                    <el-step :title=\"itemName\" v-for=\"(itemName, index) in salaryItem\" :key=\"index\"></el-step>\r\n                </el-steps>\r\n                <el-input style=\"width: 200px;\" v-model=\"salary[title]\" :placeholder=\"'请输入'+salaryItem[index]+'...'\" size=\"normal\" v-show=\"activeItemIndex==index\" v-for=\"(value, title, index) in salary\" :key=\"index\"></el-input>\r\n            </div>\r\n            <span slot=\"footer\">\r\n                <el-button @click=\"preStep\">{{ activeItemIndex == 10 ? '取消':'上一步' }}</el-button>\r\n                <el-button type=\"primary\" @click=\"nextStep\">{{ activeItemIndex == 10 ? '完成':'下一步' }}</el-button>\r\n            </span>\r\n        </el-dialog>\r\n        \r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    name: 'SalSob',\r\n    data() {\r\n        return {\r\n            activeItemIndex: 0,\r\n            salaries: [],\r\n            dialogVisible: false,\r\n            salaryItem: [\r\n                '账套名称',\r\n                '基本工资',\r\n                '交通补助',\r\n                '午餐补助',\r\n                '奖金',\r\n                '养老金比率',\r\n                '养老金基数',\r\n                '医疗保险比率',\r\n                '医疗保险基数',\r\n                '公积金比率',\r\n                '公积金基数',\r\n            ],\r\n            salary: {\r\n                name: '',\r\n                basicSalary: 0,\r\n                trafficSalary: 0,\r\n                lunchSalary: 0,\r\n                bonus: 0,\r\n                pensionPer: 0,\r\n                pensionBase: 0,\r\n                medicalPer: 0,\r\n                medicalBase: 0,\r\n                accumulationFundPer: 0,\r\n                accumulationFundBase: 0\r\n            },\r\n        }\r\n    },\r\n    mounted(){\r\n        this.initSalaries()\r\n    },\r\n    methods: {\r\n        refresh() {\r\n            this.initSalaries()\r\n        },\r\n        preStep() {\r\n            if (this.activeItemIndex == 0) {\r\n                return \r\n            } else if (this.activeItemIndex == 10) {\r\n                this.dialogVisible = false\r\n                return \r\n            }\r\n            this.activeItemIndex--\r\n        },\r\n        nextStep() {\r\n            if (this.activeItemIndex == 10) {\r\n                this.postRequest('/salary/sob', this.salary).then(resp => {\r\n                    if (resp) {\r\n                        this.initSalaries()\r\n                        this.dialogVisible = false\r\n                    }\r\n                })\r\n                return\r\n            }\r\n            this.activeItemIndex++\r\n        },\r\n        showAdd() {\r\n            this.salary = {\r\n                name: '',\r\n                basicSalary: 0,\r\n                trafficSalary: 0,\r\n                lunchSalary: 0,\r\n                bonus: 0,\r\n                pensionPer: 0,\r\n                pensionBase: 0,\r\n                medicalPer: 0,\r\n                medicalBase: 0,\r\n                accumulationFundPer: 0,\r\n                accumulationFundBase: 0\r\n            },\r\n            this.activeItemIndex = 0\r\n            this.dialogVisible = true\r\n        },\r\n        initSalaries() {\r\n            this.getRequest('/salary/sob').then(resp => {\r\n                if (resp) {\r\n                    this.salaries = resp\r\n                }\r\n            })\r\n        },\r\n    }\r\n}\r\n</script>\r\n<style>\r\n    \r\n</style>"]},"metadata":{},"sourceType":"module"}