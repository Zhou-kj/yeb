{"ast":null,"code":"export default {\n  name: 'Home',\n\n  data() {\n    return {\n      user: JSON.parse(window.sessionStorage.getItem('user'))\n    };\n  },\n\n  methods: {\n    goChat() {\n      this.$router.push('/chat');\n    },\n\n    commandHandler(command) {\n      if (command == 'logout') {\n        this.postRequest('/logout');\n        window.sessionStorage.removeItem('tokenStr');\n        window.sessionStorage.removeItem('user');\n        this.$router.replace('/');\n      }\n    }\n\n  },\n  computed: {\n    routes() {\n      return this.$store.state.routes;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA+CA;EACAA,YADA;;EAEAC;IACA;MACAC;IADA;EAGA,CANA;;EAOAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;QACA;QACAC;QACAA;QACA;MACA;IACA;;EAXA,CAPA;EAoBAC;IACAC;MACA;IACA;;EAHA;AApBA","names":["name","data","user","methods","goChat","commandHandler","window","computed","routes"],"sourceRoot":"src/views","sources":["Home.vue"],"sourcesContent":["<template lang=\"\">\r\n    <div>\r\n        <el-container>\r\n            <el-header class=\"homeHeader\">\r\n              <div class=\"title\">在线办管理平台</div>\r\n              <div>\r\n                <el-button class=\"chat\" icon=\"el-icon-bell\" type=\"text\" size=\"normal\" style=\"color: black;margin-right: 8px;\" @click=\"goChat\"></el-button>\r\n                \r\n                <el-dropdown class=\"userInfo\" @command=\"commandHandler\">\r\n                  <span class=\"el-dropdown-link\">\r\n                    {{user[0].name}}<i><img :src=\"user[0].userFace\" alt=\"\"></i>\r\n                  </span>\r\n                  <el-dropdown-menu slot=\"dropdown\">\r\n                    <el-dropdown-item command=\"userinfo\">个人中心</el-dropdown-item>\r\n                    <el-dropdown-item command=\"setting\">设置</el-dropdown-item>\r\n                    <el-dropdown-item command=\"logout\">退出登录</el-dropdown-item>\r\n                  </el-dropdown-menu>\r\n                </el-dropdown>\r\n              </div>\r\n            </el-header>\r\n            <el-container>\r\n              <el-aside width=\"250px\">\r\n                <el-menu router unique-opened >\r\n                    <el-submenu :index=\"index+''\" v-for=\"(item, index) in routes\" ::key=\"index\" v-if=\"!item.hidden\">\r\n                      <template slot=\"title\"><i :class=\"item.iconCls\" style=\"color: #379BFF; margin-right: 5px;\"></i>\r\n                        <span>{{ item.name }}</span>\r\n                      </template>\r\n                        <el-menu-item :index=\"children.path\" v-for=\"(children, index) in item.children\" ::key=\"index\">{{ children.name }}</el-menu-item>\r\n                    </el-submenu>\r\n                </el-menu>\r\n              </el-aside>\r\n              <el-main>\r\n                <el-breadcrumb separator-class=\"el-icon-arrow-right\" v-if=\"this.$router.currentRoute.path != '/home'\">\r\n                  <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n                  <el-breadcrumb-item>{{ this.$router.currentRoute.name }}</el-breadcrumb-item>\r\n                </el-breadcrumb>\r\n                <div v-else class=\"homeWelcome\">\r\n                  欢迎使用在线办管理系统!\r\n                </div>\r\n                <router-view class=\"homeRouterView\"></router-view>\r\n              </el-main>\r\n            </el-container>\r\n          </el-container>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\nexport default {\r\n    name: 'Home',\r\n    data() {\r\n      return {\r\n        user: JSON.parse(window.sessionStorage.getItem('user'))\r\n      } \r\n    },\r\n    methods: {\r\n      goChat() {\r\n        this.$router.push('/chat')\r\n      },\r\n      commandHandler(command) {\r\n        if (command == 'logout') {\r\n          this.postRequest('/logout')\r\n          window.sessionStorage.removeItem('tokenStr')\r\n          window.sessionStorage.removeItem('user')\r\n          this.$router.replace('/')\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n      routes() {\r\n        return this.$store.state.routes\r\n      }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n  .homeHeader {\r\n    position: relative;\r\n    background-color: #379BFF;\r\n    padding: 0 15px;\r\n    justify-content: space-around;\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  .homeHeader .title {\r\n    position: absolute;\r\n    font-size: 30px;\r\n    font-family: 楷体;\r\n    color: white;\r\n    top: 50%;\r\n    left: 2%;\r\n    transform: translate(0, -50%)\r\n  }\r\n\r\n  .chat{\r\n    position: absolute;\r\n    top: 20%;\r\n    right: 13%;\r\n  }\r\n\r\n  .homeHeader .userInfo{\r\n    cursor: pointer;\r\n    vertical-align: middle;\r\n\r\n  }\r\n\r\n  .el-dropdown {\r\n    position: absolute;\r\n    top: 10%;\r\n    right: 5%;\r\n  }\r\n\r\n  .el-dropdown img {\r\n    width: 48px;\r\n    height: 48px;\r\n    border-radius: 24px;\r\n    margin-left: 8px;\r\n    vertical-align: middle;\r\n  }\r\n\r\n  .homeWelcome {\r\n    padding-left: 27%;\r\n    font-size: 30px;\r\n    font-family: 华文楷体;\r\n    color: #409eff;\r\n    margin-top: 50px;\r\n  }\r\n\r\n  .homeRouterView {\r\n    margin-top: 10px;\r\n  }\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}